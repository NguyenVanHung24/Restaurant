name: BuildFE

on:
  push:
    branches:
      - fe
      - main
  pull_request:
    branches:
      - main


jobs:
  # build:
  #   runs-on: [self-hosted, some-label]
  #   defaults:
  #     run:
  #       working-directory: ./React-js-Master-Detail-CRUD-with-Asp.Net-Web-API/restaurant
  #   steps:
  #     - uses: actions/checkout@v3
  #     - uses: actions/setup-node@v3
  #       with:
  #         node-version: 16
  #     - run: npm install
  #     - name: Build App
  #       run: npm run build

  # build_image:
  #   runs-on: [self-hosted, some-label]
  #   defaults:
  #     run:
  #       working-directory: ./React-js-Master-Detail-CRUD-with-Asp.Net-Web-API/restaurant
  #   steps:
  #     - uses: actions/checkout@v3
  #     - name: Build Docker image
  #       run: docker build -t my-app .
  pushimage:
    runs-on: [self-hosted, some-label]      
    steps:

    - run: echo "my username is ${{ secrets.USERNAME }}" 

    # - name: Login to Docker Hub
    #   uses: docker/login-action@v3
    #   with:
    #     username: ${{ secrets.USERNAME }}
    #     password: ${{ secrets.PASSWORD }}
    

    # - name: Build and push
    #   uses: docker/build-push-action@v5
    #   with:
    #     tags: ${{ secrets.DOCKER_IMAGE_FE}}:latest
    #     push: ${{ github.event_name != 'pull_request' }} # Don't push on PR
    #     labels: ${{ steps.meta.outputs.labels }}
    #     cache-from: type=gha
    #     cache-to: type=gha,mode=max